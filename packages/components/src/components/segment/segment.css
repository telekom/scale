/**
 * @license
 * Scale https://github.com/telekom/scale
 *
 * Copyright (c) 2021 Egor Kirpichev and contributors, Deutsche Telekom AG
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */

:host {
  /* not selected */
  --background-color-selected: var(--telekom-color-ui-base);
  --button-radius: 6px;
  --padding-top-bottom: var(--telekom-spacing-unit-x1);
  --height: 28px;
  --font: var(--telekom-text-style-caption-bold);
  --label-disabled: var(--telekom-color-text-and-icon-disabled);
  --color: var(--telekom-color-text-and-icon-standard);

  --color-selected: var(--telekom-color-text-and-icon-primary-standard);

  /* medium styles */
  --font-medium: var(--telekom-text-style-ui-bold);
  --height-medium: 36px;

  /* large styles */
  --font-large: var(--telekom-text-style-ui-bold);
  --height-large: 40px;

  /* hover styles */
  --background-color-hover: var(--telekom-color-ui-state-fill-hovered-inverted);

  /* active styles */
  --background-color-active: var(
    --telekom-color-ui-state-fill-pressed-inverted
  );

  display: flex;
  align-items: center;
  justify-content: center;
  flex: 1;
}

.segment {
  box-sizing: border-box;
  position: relative;
  border: 0;
  height: 100%;
  width: 100%;
  border-radius: var(--button-radius);
  padding-top: var(--padding-top-bottom);
  padding-bottom: var(--padding-top-bottom);
  background-color: transparent;
  padding: 0;
}

.segment--mask {
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  height: 100%;
  width: 100%;
  border-radius: var(--button-radius);
  background-color: transparent;
  font: var(--font);
  transition: var(--transition);
  white-space: nowrap;
  color: var(--color);
  line-height: 1;
}

button.segment--icon-only.segment--multi-select .segment--mask {
  padding-left: var(--telekom-spacing-unit-x3);
  padding-right: var(--telekom-spacing-unit-x3);
}

button.segment--icon-only.segment--small .segment--mask {
  padding-left: var(--telekom-spacing-unit-x4);
  padding-right: var(--telekom-spacing-unit-x4);
}

button.segment--small .segment--mask {
  padding-left: 10px;
  padding-right: 10px;
}

button.segment--multi-select.segment:not(.segment--icon-only) .segment--mask {
  padding-left: 19px;
  padding-right: 19px;
}

.segment--small {
  height: var(--height);
}

.segment--medium {
  height: var(--height-medium);
}

button.segment--medium .segment--mask {
  padding-left: var(--telekom-spacing-unit-x3);
  padding-right: var(--telekom-spacing-unit-x4);
}

button.segment--medium .segment--mask {
  font: var(--font-medium);
  padding-left: 0.875rem;
  padding-right: 0.875rem;
}

.segment--large {
  height: var(--height-large);
}

button.segment--large.segment--selected .segment--mask {
  padding-left: var(--telekom-spacing-unit-x4);
  padding-right: var(--telekom-spacing-unit-x5);
}

button.segment--large .segment--mask {
  font: var(--font-large);
  padding-left: var(--telekom-spacing-unit-x4);
  padding-right: var(--telekom-spacing-unit-x5);
}

/* selected */

.segment--selected {
  background-color: var(--background-color-selected);
  box-shadow: var(--telekom-shadow-raised-standard);
}

.segment--selected .segment--mask {
  color: var(--color-selected);
}

/* disabled */

.segment--disabled.segment--selected .segment--mask {
  color: var(--label-disabled);
}

.segment--disabled:not(.segment--selected) .segment--mask {
  color: var(--label-disabled);
  background-color: transparent;
}

/* shadows left and right */

.segment--left-sibling-selected {
  border-radius: 0 var(--button-radius) var(--button-radius) 0;
  margin-left: 0;
  clip-path: inset(-2.75rem -2.75rem -2.75rem 0);
  backface-visibility: hidden;
  overflow: hidden;
}

.segment--right-sibling-selected {
  border-radius: var(--button-radius) 0 0 var(--button-radius);
  clip-path: inset(-2.75rem 0 -2.75rem -2.75rem);
  margin-right: 0;
  backface-visibility: hidden;
  overflow: hidden;
  position: relative;
}

.segment--left-right-sibling-selected {
  clip-path: inset(-2.75rem 0 -2.75rem 0);
  border-radius: 0;
  margin-left: 0;
  margin-right: 0;
  backface-visibility: hidden;
}

.segment:not(.segment--disabled):hover .segment--mask {
  background-color: var(--telekom-color-ui-state-fill-hovered);
}

.segment:not(.segment--disabled):active .segment--mask {
  background-color: var(--telekom-color-ui-state-fill-pressed);
}

.segment:focus {
  box-shadow: var(--telekom-shadow-raised-standard);
  outline: var(--telekom-spacing-unit-x05) solid
    var(--telekom-color-functional-focus-standard);
  outline-offset: var(--telekom-spacing-unit-x025);
  z-index: 40;
  position: relative;
}

.segment--left-right-sibling-selected:focus,
.segment--right-sibling-selected:focus,
.segment--left-sibling-selected:focus {
  clip-path: none;
}

/* FIXME remove the hard-coded icon names */
.segment:not(.segment--icon-only) scale-icon-action-checkmark,
.segment scale-icon-action-close {
  margin-right: var(--telekom-spacing-unit-x1);
}

.segment:not(.segment--selected) scale-icon-action-checkmark {
  visibility: hidden !important;
}

.segment scale-icon-action-checkmark {
  vertical-align: middle;
}

.segment--selected:not(.segment--icon-only) .icon-container {
  visibility: hidden;
}

.segment--icon-only .success-icon-container,
.segment--icon-text .success-icon-container {
  display: none;
}

.segment--icon-text .success-icon-container {
  display: none;
}

.segment.segment--selected:not(.segment--icon-only) .icon-container {
  display: none;
}

.segment--selected:not(.segment--icon-only) .success-icon-container {
  display: flex;
  visibility: visible;
  justify-content: center;
  align-items: center;
}

.icon-container {
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.segment--selected .icon-container {
  color: var(--color-selected);
}

.segment:not(.segment--selected).segment:not(.segment--icon-only):not(.segment--icon-text)
  .text-container {
  transform: translateX(-9px);
}

.segment--icon-text .icon-container ::slotted(*) {
  margin-right: var(--telekom-spacing-unit-x1);
}

.segment--list-item {
  list-style: none;
  box-sizing: border-box;
  position: relative;
  border: 0;
  height: 100%;
  width: 100%;
  border-radius: var(--button-radius);
  padding-top: var(--telekom-spacing-unit-x05);
  transition: var(--transition);
  background-color: transparent;
}

@media screen and (forced-colors: active), (-ms-high-contrast: active) {
  .segment--selected {
    border: 1px solid hsl(0, 0%, 100%);
  }
}
