/**
 * @license
 * Scale https://github.com/telekom/scale
 *
 * Copyright (c) 2021 Egor Kirpichev and contributors, Deutsche Telekom AG
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */

:host {
  --font-weight: var(--scl-font-weight-medium);
  --spacing-x-icon: var(--scl-spacing-4);
  --line-offset: 0.0625em;
  --line-thickness: 0.0625em;

  /* initial */
  --color: var(--scl-color-blue-60);
  --color-line: hsl(219, 100%, 87%);
  --line-thickness-initial: var(--line-thickness);
  /* visited */
  --color-visited: var(--scl-color-text-link-visited);
  --color-line-visited: var(--scl-color-text-link-visited);
  --line-thickness-visited: var(--line-thickness);
  /* hover */
  --color-hover: var(--scl-color-blue-70);
  --color-line-hover: var(--scl-color-blue-70);
  --line-thickness-hover: var(--line-thickness);
  /* focus */
  --color-focus: var(--scl-color-blue-70);
  --color-line-focus: var(--scl-color-blue-70);
  --line-thickness-focus: calc(var(--line-thickness) * 2);
  /* active */
  --color-active: var(--scl-color-blue-60);
  --color-line-active: var(--scl-color-blue-60);
  --line-thickness-active: var(--line-thickness);
  /* disabled */
  --color-disabled: var(--scl-color-grey-50);
  --color-line-disabled: var(--scl-color-grey-50);
  --line-thickness-disabled: var(--line-thickness);
}

:host {
  display: contents;
  margin-bottom: calc(var(--line-offset) + var(--line-thickness))
}

[part='anchor'] {
  --anchor-color: var(--color);
  --line-color: var(--color-line);

  cursor: pointer;
  outline: none;
  font-weight: var(--font-weight);
  color: var(--anchor-color);
  position: relative;
  display: inline-flex;
  text-decoration: none;
  transition: color var(--scl-motion-duration-fast);
}

[part='anchor'] {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-x-icon);
}

[part='content'] {
  position: relative;
}

[part='line'] {
  color: var(--line-color);
  display: block;
  position: absolute;
  top: calc(100% + var(--line-offset));
  left: 0;
  width: 100%;
  height: var(--line-thickness-initial);
  background: currentColor;
  transition: all var(--scl-motion-duration-fast);
}

/* states */

[part='anchor']:visited [part='line'] {
  height: var(--line-thickness-visited);
}

[part='anchor']:hover [part='line'] {
  height: var(--line-thickness-hover);
}

[part='anchor']:focus [part='line'] {
  height: var(--line-thickness-focus);
}

[part='anchor']:active [part='line'] {
  height: var(--line-thickness-active);
}

:host(.reverse) [part='anchor'] {
  flex-direction: row-reverse;
}

[part='anchor']:hover,
[part='anchor']:focus,
[part='anchor']:active {
  text-decoration: none;
  transition: color var(--scl-motion-duration-fast);
}

[part='anchor']:visited {
  --anchor-color: var(--color-visited);
  --line-color: var(--color-line-visited);
}

[part='anchor']:hover {
  --anchor-color: var(--color-hover);
  --line-color: var(--color-line-hover);
}

[part='anchor']:focus {
  --anchor-color: var(--color-focus);
  --line-color: var(--color-line-focus);
}

[part='anchor']:active {
  --anchor-color: var(--color-active);
  --line-color: var(--color-line-active);
}

/* disabled */

:host(.disabled) {
  cursor: not-allowed;
}

:host(.disabled) [part='anchor'],
:host(.disabled) [part='anchor']:visited,
:host(.disabled) [part='anchor']:hover,
:host(.disabled) [part='anchor']:active {
  --anchor-color: var(--color-disabled);
  --line-color: var(--color-line-disabled);

  cursor: not-allowed;
  pointer-events: none;
}
