import {
  Meta,
  Story,
  ArgsTable,
  Canvas,
  Description,
} from "@storybook/addon-docs/blocks";
import ScaleTag from "./ScaleTag.vue";

<Meta
  title="Components/Tag"
  component={ScaleTag}
  argTypes={{
    label: {
      control: { type: "text" },
    },
    styles: {
      control: { disable: true },
    },
  }}
/>

export const Template = (args, { argTypes }) => ({
  components: { ScaleTag },
  props: {
    label: String,
    ...ScaleTag.props,
  },
  template: `
    <scale-tag
    :disabled="disabled"
    :dismissable="dismissable"
    :href="href"
    :size="size"
    :target="target"
    :variant="variant"
    >
    {{ label }}
    </scale-tag>
  `,
});

export const TemplateInteractive = (args, { argTypes }) => ({
  components: { ScaleTag },
  template: `
      <ul aria-label="fruits" style="display: flex; list-style: none; padding: 0;">
          <li v-for="fruit in fruits" :key="fruit" style="margin-right: 4px;">
            <scale-tag
                dismissable="true"
                v-bind:dismiss-text="'Remove ' + fruit + ' from the list'"
                @click="removeFruit(fruit)"
                @scaleClose="removeFruit(fruit)"
            >
                {{fruit}}
            </scale-tag>
          </li>
      </ul>
  `,
  methods: {
    removeFruit(fruit) {
      this.fruits = this.fruits.filter((x) => x !== fruit);
      setTimeout(() => {
        this.$el.querySelector("#root > ul > li > scale-tag") &&
          this.$el
            .querySelector("#root > ul > li > scale-tag")
            .shadowRoot.querySelector("span > button")
            .focus();
      });
    },
  },
  data: () => ({
    fruits: ["Melon", "Banana", "Pear"],
  }),
});

<div
  style={{
    display: "inline-flex",
    alignItems: "center",
    justifyContent: "space-between",
    width: "100%",
  }}
>
  <h1>Chip</h1>
  <img src="assets/aa.png" alt="Accessible AA" />
</div>

## Standard

<Canvas withSource="none">
  <Story
    name="Standard"
    args={{
      label: "A tag",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Standard" />

### Scoped CSS variables

```css
:host {
  --background: var(--scl-color-text-standard);
  --color: var(--scl-color-white);
  --font-size: var(--scl-font-variant-body-size);
  --line-height: var(--scl-font-variant-body-line-height);
  --font-weight: var(--scl-font-weight-bold);
  --radius: var(--scl-radius-4);
  --box-shadow-focus: 0 0 0 var(--scl-spacing-2) var(--scl-color-focus);

  --icon-color: var(--color);
  --icon-color-hover: var(--scl-color-primary-active);
  --background-secondary: var(--scl-color-teal-80);

  --background-disabled: var(--scl-color-background-disabled);
  --color-disabled: var(--scl-color-grey-60);

  --spacing-left-dismissable: var(--scl-spacing-2);

  --border-button-dismissable-focus: 1px solid var(--scl-color-background-standard);
  --background-button-dismissable-focus: var(--scl-color-black);
  --box-shadow-button-dismissable-focus: var(--box-shadow-focus);
  --background-button-dismissable-hover: var(--scl-color-black);
  --height-button-dismissable-small: 20px;

  --spacing-small: 0 var(--scl-spacing-8);
  --font-size-small: var(--scl-font-size-12);
  --line-height-small: var(--scl-font-line-height-160);
}
```

For Shadow Parts, please inspect the element's #shadow.

## A dissmisable tag

<Canvas withSource="none">
  <Story
    name="A dissmisable tag"
    args={{
      label: "A dissmisable tag",
      dismissable: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-tag dismissable>A dissmisable tag</scale-tag>
```

## A small tag

<Canvas withSource="none">
  <Story
    name="A small tag"
    args={{
      label: "A small tag",
      size: "small",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-tag size="small">A small tag</scale-tag>
```

## A small dismissable tag

<Canvas withSource="none">
  <Story
    name="A small dismissable tag"
    args={{
      label: "A small dismissable tag",
      size: "small",
      dismissable: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-tag size="small" dismissable>A small dismissable tag</scale-tag>
```

## Disable dissmisable tag

<Canvas withSource="none">
  <Story
    name="Disabled dismissable tag"
    args={{
      label: "Disabled dismissable tag",
      disabled: true,
      dismissable: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-tag disabled dismissable>Disabled dismissable tag</scale-tag>
```

## Variant secondary tag

<Canvas withSource="none">
  <Story
    name="Variant secondary tag"
    args={{
      label: "Variant secondary tag",
      variant: "secondary",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-tag variant="secondary">Variant secondary tag</scale-tag>
```

## Variant secondary link

<Canvas withSource="none">
  <Story
    name="Variant secondary link"
    args={{
      label: "Variant secondary link",
      variant: "secondary",
      href: "https://www.example.com",
      target: "_blank",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-tag variant="secondary" href="https://www.example.com" target="_blank"
  >Variant secondary link</scale-tag
>
```

## Variant secondary dismissable

<Canvas withSource="none">
  <Story
    name="Variant secondary dismissable"
    args={{
      label: "Variant secondary dismissable",
      variant: "secondary",
      dismissable: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-tag variant="secondary" dismissable
  >Variant secondary dismissable</scale-tag
>
```

## Variant secondary small

<Canvas withSource="none">
  <Story
    name="Variant secondary small"
    args={{
      label: "Variant secondary small",
      variant: "secondary",
      size: "small",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-tag variant="secondary" size="small">Variant secondary small</scale-tag>
```

## Variant secondary dismissable small

<Canvas withSource="none">
  <Story
    name="Variant secondary dismissable small"
    args={{
      label: "Variant secondary dismissable small",
      variant: "secondary",
      dismissable: true,
      size: "small",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-tag variant="secondary" dismissable size="small"
  >Variant secondary dismissable small</scale-tag
>
```

## Complete example

<Canvas withSource="none">
  <Story name="Complete example">{TemplateInteractive.bind({})}</Story>
</Canvas>
