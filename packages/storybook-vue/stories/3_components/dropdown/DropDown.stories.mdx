import { Meta, Story, ArgsTable, Canvas } from '@storybook/addon-docs/blocks';
import ScaleDropDown from "./ScaleDropDown.vue";
import { action } from "@storybook/addon-actions";

<Meta
  title='Components/Dropdown'
  component={ScaleDropDown}
  argTypes={{}}
/>

export const Template = (args, { argTypes }) => ({
  components: { ScaleDropDown },
  props: ScaleDropDown.props,
  template: `
    <scale-dropdown
      :name="name"
      :label="label"
      :helper-text="helperText"
      :invalid="invalid"
      :disabled="disabled"
      :required="required"
      :size="size"
      :value="value"
      :input-id="inputId"
      :visible-size="visibleSize"
      :controlled="controlled"
      @scaleChange="scaleChange"
      @scaleFocus="scaleFocus"
      @scaleBlur="scaleBlur"
      @scaleKeyDown="scaleKeyDown"
    >
      <option value="1">Category 1</option>
      <optgroup label="Category Group">
        <option value="2">Category 2</option>
      </optgroup>
      <optgroup label="Category Group 2">
        <option value="3">Category 3</option>
      </optgroup>
      <scale-icon-content-calendar v-if="label === 'With Custom Icon'" slot="icon"></scale-icon-content-calendar>
    </scale-dropdown>
  `,
  methods: {
    scaleChange: action('scaleChange'),
    scaleFocus: action('scaleFocus'),
    scaleBlur: action('scaleBlur'),
    scaleKeyDown: action('scaleKeyDown'),
  }
})

<div style={{display: 'inline-flex', alignItems: 'center', justifyContent: 'space-between', width: '100%'}}>
    <h1>Dropdown</h1>
    <img src="assets/aa.png" alt="Accessible AA" />
</div>

## Standard

<Canvas withSource="none">
  <Story
    name='Standard'
    args={{
      label: 'Select',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story='Standard' />

```html
<scale-dropdown label="select">
  <option value="1">item 1</option>
  <option value="2" selected>item 2</option>
  <option value="3">item 3</option>
</scale-dropdown>
```


## Small

<Canvas withSource="none">
  <Story
    name='Small'
    args={{
      label: 'Small',
      size: 'small',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>


```html
<scale-dropdown label="Small" size="small">
  <option value="1">item 1</option>
  <option value="2" selected>item 2</option>
  <option value="3">item 3</option>
</scale-dropdown>
```


## Disabled

Known issues: The dropdown is ready for use. The component in disabled state is displayed incorrectly with white background in Firefox 85.0.2 (64-bit) in HCM (high contrast mode).
The display error is on the browser side.

<Canvas withSource="none">
  <Story
    name='Disabled'
    args={{
      label: 'Disabled',
      disabled: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>


```html
<scale-dropdown label="Disabled" disabled>
  <option value="1">item 1</option>
  <option value="2" selected>item 2</option>
  <option value="3">item 3</option>
</scale-dropdown>
```


## Error

<Canvas withSource="none">
  <Story
    name='Error'
    args={{
      label: 'Error',
      invalid: true,
      helperText: 'Something went wrong...',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>


```html
<scale-dropdown label="Error" invalid helper-text="Something went wrong...">
  <option value="1">item 1</option>
  <option value="2" selected>item 2</option>
  <option value="3">item 3</option>
</scale-dropdown>
```


## With Custom Icon

<Canvas withSource="none">
  <Story
    name='With Custom Icon'
    args={{
      label: 'With Custom Icon',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>


```html
<scale-dropdown label="With Custom Icon">
  <option value="1">item 1</option>
  <option value="2" selected>item 2</option>
  <option value="3">item 3</option>
   <scale-icon-content-calendar slot="icon"></scale-icon-content-calendar>
</scale-dropdown>
```
