import { Meta, ArgsTable, Story, Canvas } from '@storybook/addon-docs';
import TelekomHeader from './TelekomHeader.vue';
import TelekomHeaderDataBackCompat from './TelekomHeaderDataBackCompat.vue';
import TelekomHeaderTemplate from './TelekomHeaderTemplate.vue';
import {
  mainNavigation,
  iconNavigation,
  addonNavigation,
  sectorNavigation,
  userNavigation,
} from './fixtures';

<Meta
  title="Beta Components/Telekom Brand Header & Navigation"
  component={TelekomHeader}
  argTypes={{
    appNameLink: {
      control: {
        type: 'text',
      },
    },
    appName: {
      control: {
        type: 'text',
      },
    },
    appNameClick: {
      control: {
        type: 'disabled',
      },
      description: 'app name click event handler custom function',
    },
    storyName: {
      table: {
        disable: true,
      },
    },
  }}
/>

<div
  style={{
    display: 'inline-flex',
    alignItems: 'center',
    justifyContent: 'space-between',
    width: '100%',
  }}
>
  <h1>Brand Header & Navigation</h1>
  <img src="assets/beta.png" alt="Beta Component" />
</div>

export const Template = (args, { argTypes }) => ({
  components: { TelekomHeaderTemplate },
  props: {
    ...TelekomHeaderTemplate.props,
    storyName: String,
    // TODO remove these from here since they're included already in TelekomHeaderTemplate
    mainNavAriaLabel: 'Main Navigation',
    metaNavAriaLabel: 'Meta Navigation',
    metaNavExternalAriaLabel: 'External Meta Navigation',
    langSwitcherAriaLabel: 'Language Switcher',
  },
  template: `
    <TelekomHeaderTemplate
      :story-name="storyName"
      :app-name="appName"
      :app-name-link="appNameLink"
      :logo-href="logoHref"
      :logo-title="logoTitle"
      :logo-hide-title="logoHideTitle"
      :meta-nav-aria-label="metaNavAriaLabel" 
      :meta-nav-external-aria-label="metaNavExternalAriaLabel"
      :lang-switcher-aria-label="langSwitcherAriaLabel"
      :main-nav-aria-label="mainNavAriaLabel"
    />
  `,
});

## Standard Header

<Canvas withSource="none">
  <Story
    name="Standard Header"
    args={{ storyName: 'StoryStandard' }}
    inline={false}
    height={500}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Standard Header" />

### Main components

- [`scale-telekom-app-shell`](https://github.com/telekom/scale/tree/main/packages/components/src/components/telekom/telekom-app-shell)
- [`scale-telekom-header`](https://github.com/telekom/scale/tree/main/packages/components/src/components/telekom/telekom-header)

### Subcomponents

- [`scale-telekom-nav-list`](https://github.com/telekom/scale/tree/main/packages/components/src/components/telekom/telekom-nav-list)
- [`scale-telekom-nav-item`](https://github.com/telekom/scale/tree/main/packages/components/src/components/telekom/telekom-nav-item)
- [`scale-telekom-nav-flyout`](https://github.com/telekom/scale/tree/main/packages/components/src/components/telekom/telekom-nav-flyout)
- [`scale-telekom-mega-menu`](https://github.com/telekom/scale/tree/main/packages/components/src/components/telekom/telekom-mega-menu)
- [`scale-telekom-mega-menu-column`](https://github.com/telekom/scale/tree/main/packages/components/src/components/telekom/telekom-mega-menu)
- [`scale-telekom-mobile-flyout-canvas`](https://github.com/telekom/scale/tree/main/packages/components/src/components/telekom/telekom-mobile-flyout-canvas)
- [`scale-telekom-mobile-menu`](https://github.com/telekom/scale/tree/main/packages/components/src/components/telekom/telekom-mobile-menu)
- [`scale-telekom-mobile-menu-item`](https://github.com/telekom/scale/tree/main/packages/components/src/components/telekom/telekom-mobile-menu-item)

```html
<scale-telekom-header>
  <scale-telekom-nav-list slot="main-nav" aria-label="Main Navigation Links">
    <scale-telekom-nav-item aria-label="Topic One">
      <a href="#">Topic One</a>
    </scale-telekom-nav-item>
    <!-- … -->
  </scale-telekom-nav-list>
</scale-telekom-header>
```

### Scoped CSS variables

```css
scale-telekom-header {
  --shadow: 0px 2px 9px rgba(0, 0, 0, 0.15);
  --background: var(--telekom-color-background-surface);
  --background-logo: var(--telekom-color-primary-standard);
  --transition-common-scrolled: height var(--telekom-motion-duration-immediate) var(
        --telekom-motion-easing-standard
      ), width var(--telekom-motion-duration-immediate) var(
        --telekom-motion-easing-standard
      );
  --font-size-app-name: var(--telekom-typography-font-size-small);
  --line-height-app-name: var(--telekom-typography-line-spacing-tight);
  --font-weight-app-name: var(--telekom-typography-font-weight-extra-bold);
}

scale-telekom-nav-list {
  --flex-direction: row;
}
```

## Application Name

<Canvas withSource="none">
  <Story
    name="Application Name"
    args={{ storyName: 'StoryStandard', appName: 'Application Name' }}
    inline={false}
    height={500}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-telekom-header
  app-name="Application Name"
  app-name-link="https://example.com"
  meta-nav-aria-label="Meta navigation section" 
  meta-nav-external-aria-label="External navigation section"
  lang-switcher-aria-label="Language switcher section"
  main-nav-aria-label="Main navigation"  section 
>
  <!-- … -->
</scale-telekom-header>
```

## Mega Menu

<Canvas withSource="none">
  <Story
    name="Mega Menu"
    args={{ storyName: 'StoryMegaMenu', appName: 'Application Name' }}
    inline={false}
    height={500}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-telekom-header 
  meta-nav-aria-label="Meta navigation section" 
  meta-nav-external-aria-label="External navigation section"
  lang-switcher-aria-label="Language switcher section"
  main-nav-aria-label="Main navigation section"
>
  <scale-telekom-nav-list slot="main-nav" aria-label="Main Navigation Links">
    <scale-telekom-nav-item aria-label="Topic one">
      <button>Topic One</button>
      <scale-telekom-nav-flyout hover>
        <div>Flyout content</div>
      </scale-telekom-nav-flyout>
    </scale-telekom-nav-item>
    <!-- … -->
  </scale-telekom-nav-list>
</scale-telekom-header>
```

### Mega Menu

```html
<scale-telekom-mega-menu>
  <scale-telekom-mega-menu-column>
    <scale-icon-home-home slot="icon"></scale-icon-home-home>
    <a href="https://example.com" slot="heading">Second Level</a>
    <ul>
      <li><a href="https://example.com">Third Level</a></li>
      <li><a href="https://example.com">Third Level</a></li>
      <!-- … -->
    </ul>
  </scale-telekom-mega-menu-column>
</scale-telekom-mega-menu>
```

## Slim Header

<Canvas withSource="none">
  <Story
    name="Slim Header"
    args={{ storyName: 'StorySlim', appName: 'Application Name' }}
    inline={false}
    height={500}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-telekom-header
  app-name="Application Name"
  app-name-link="https://example.com"
  meta-nav-aria-label="Meta navigation section" 
  meta-nav-external-aria-label="External navigation section"
  lang-switcher-aria-label="Language switcher section"
  main-nav-aria-label="Main navigation section"  
>
  <!-- … -->
</scale-telekom-header>
```

## Subtle Header

<Canvas withSource="none">
  <Story
    name="Subtle Header"
    args={{ storyName: 'StorySubtle', appName: 'Application Name' }}
    inline={false}
    height={500}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-telekom-header
  app-name="Application Name"
  app-name-link="https://example.com"
  meta-nav-aria-label="Meta navigation section" 
  meta-nav-external-aria-label="External navigation section"
  lang-switcher-aria-label="Language switcher section"
  main-nav-aria-label="Main navigation section"  
>
  <!-- … -->
</scale-telekom-header>
```

## Data API (Backward compatibility)

> This scale-telekom-header-data-back-compat component is only meant to make it easier to migrate from a [previous version of the Brand Header](?path=/usage/components-brand-header-navigation--standard). If you do not need to migrate, please avoid it. Learn more about the [expected data shape](https://github.com/telekom/scale/blob/main/packages/storybook-vue/stories/components/brand-header-navigation/fixtures.js).

<Canvas withSource="none">
  <Story
    name="Data API"
    inline={false}
    height={500}
    args={{
      mainNavigation: JSON.stringify(mainNavigation),
      iconNavigation: JSON.stringify(iconNavigation),
      addonNavigation: JSON.stringify(addonNavigation),
      sectorNavigation: JSON.stringify(sectorNavigation),
      userNavigation: JSON.stringify(userNavigation),
      activeRouteId: 'Third Level 24',
      appName: 'Application Name',
    }}
  >
    {() => ({
      components: { TelekomHeaderDataBackCompat },
      props: TelekomHeaderDataBackCompat.props,
      template: `
        <div class="brand-header-spacing">
          <scale-telekom-header-data-back-compat
            :main-navigation="mainNavigation"
            :icon-navigation="iconNavigation"
            :sector-navigation="sectorNavigation"
            :user-navigation="userNavigation"
            :addon-navigation="addonNavigation"
            :active-route-id="activeRouteId"
            :app-name="appName"
          >
          </scale-telekom-header-data-back-compat>
        </div>
      `,
    })}
  </Story>
</Canvas>

```html
<scale-telekom-header-data-back-compat
  app-name="Application Name"
  app-name-link="https://example.com"
  active-route-id="id"
></scale-telekom-header-data-back-compat>

<script>
  const header = window.document.querySelector(
    'scale-telekom-header-data-back-compat'
  );
  header.mainNavigation = [...[]];
  header.iconNavigation = [...[]];
  header.sectorNavigation = [...[]];
  header.addonNavigation = [...[]];
</script>
```
