import {
  Meta,
  Story,
  ArgsTable,
  Canvas,
  Description,
} from '@storybook/addon-docs';
import ScaleRadioButtonGroup from './ScaleRadioButtonGroup.vue';
import ScaleRadioButton from './ScaleRadioButton.vue';
import { action } from '@storybook/addon-actions';

<Meta
  title="Components/Radio Button Group"
  component={ScaleRadioButtonGroup}
  subcomponents={{ 'Radio Button': ScaleRadioButton }}
  argTypes={{}}
/>

export const Template = (args, context) => ({
  props: {
    groupName: { default: 'example' },
    itemProps: { default: {} },
    ...ScaleRadioButtonGroup.props,
  },
  data() {
    return {
      items: Array.from({ length: 3 }, (_, i) => ({
        id: `choice-${i}`,
        label: 'Radio Label',
        value: i,
      })),
    };
  },
  methods: {
    emitChange: action('scale-change'),
  },
  template: `
    <scale-radio-button-group
      :label="label"
      :invalid="invalid"
      :helper-text="helperText"
      @scale-change="emitChange"
    >
      <scale-radio-button
        v-for="(item, index) in items"
        :key="item.id"
        :input-id="item.id"
        :name="groupName"
        :value="item.value"
        :label="item.label"
        :checked="itemProps[index]?.checked"
        :invalid="itemProps[index]?.invalid"
        :helper-text="itemProps[index]?.helperText"
        :disabled="itemProps[index]?.disabled"
      ></scale-radio-button>
    </scale-radio-button-group>
  `
})

<div
  style={{
    display: 'inline-flex',
    alignItems: 'center',
    justifyContent: 'space-between',
    width: '100%',
  }}
>
  <h1>Radio Button Group</h1>
  <img src="assets/aa.png" alt="Accessible AA" />
</div>

## Standard

<Canvas withSource="none">
  <Story
    name="Standard"
    parameters={{
      controls: { 
        exclude: ['groupName'] 
      }
    }}
    args={{
      label: 'Group Label',
      groupName: 'standard'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Standard" />

### Scoped CSS variables

```css
:host {
  /*label*/
  --font-weight-label: var(--telekom-typography-font-weight-medium);
  --font-size-label: var(--telekom-typography-font-size-body);

  /*helper-text*/
  --font-size-helper-text: var(--telekom-typography-font-size-small);
  --color-helper-text: var(
    --telekom-color-text-and-icon-functional-informational
  );
  --padding-bottom-helper-text: var(--telekom-spacing-composition-space-04);
  --margin-top-helper-text: var(--telekom-spacing-composition-space-03);
  --font-size-helper-text: var(--telekom-typography-font-size-small);
  --font-weight-helper-text: var(--telekom-typography-font-weight-bold);

  /*helper-text--status-error*/
  --font-size-error-helper-text: var(--telekom-typography-font-size-small);
  --color-error-helper-text: var(
    --telekom-color-text-and-icon-functional-danger
  );
  --padding-bottom-error-helper-text: var(
    --telekom-spacing-composition-space-04
  );
  --margin-top-error-helper-text: var(--telekom-spacing-composition-space-03);
  --font-weight-error-helper-text: var(--telekom-typography-font-weight-medium);
  --color-error-helper-text-hcm: var(
    --telekom-color-text-and-icon-white-standard
  );
  --line-height-helper-text: var(--telekom-typography-line-spacing-standard);

  /*title*/
  --font-size-title: var(--font-size-label);
  --font-weight-title: var(--telekom-typography-font-weight-medium);
  --padding-bottom-title: var(--telekom-spacing-composition-space-03);
  --margin-left-title: var(--telekom-spacing-composition-space-02);

  /*slotted items*/
  --margin-top-slotted-item: var(--telekom-spacing-composition-space-05);
}

scale-radio-button {
  --color-disabled: var(--telekom-color-text-and-icon-disabled);
  --background-disabled: var(--telekom-color-ui-disabled);
  --color-error: var(--telekom-color-text-and-icon-functional-danger);
  --transition: all var(--telekom-motion-duration-transition)
    var(--telekom-motion-easing-standard);
  --color-primary: var(--telekom-color-text-and-icon-primary-standard);
  --color-primary-hover: var(--telekom-color-text-and-icon-standard);
  --color-primary-active: var(--telekom-color-text-and-icon-standard);
  --color-focus: var(--telekom-color-functional-focus-standard);
  --color-text: var(--telekom-color-text-and-icon-standard);

  /*helper-text*/
  --transition-helper-text: var(--transition);
  --font-size-helper-text: var(--telekom-typography-font-size-small);
  --font-weight-helper-text: var(--telekom-typography-font-weight-bold);
  --line-height-helper-text: var(--telekom-typography-line-spacing-standard);
  --color-helper-text: var(
    --telekom-color-text-and-icon-functional-informational
  );
  --spacing-left-helper-text: calc(
    var(--width-control) + var(--telekom-spacing-composition-space-04)
  );
  --spacing-top-helper-text: var(--telekom-spacing-composition-space-03);
  --color-helper-text-error: var(
    --telekom-color-text-and-icon-functional-danger
  );
  /*label*/
  --transition-label: var(--transition);
  --font-weight-label: var(--telekom-typography-font-weight-medium);
  --color-label: var(--color-text);
  --spacing-label: var(--telekom-spacing-composition-space-04);

  /*control*/
  --width-control: var(--telekom-spacing-composition-space-07);
  --height-control: var(--telekom-spacing-composition-space-07);
  --transition-control: var(--transition);
  --background-color-control: var(--telekom-color-ui-base);
  --border-control: var(--telekom-spacing-composition-space-01) solid
    var(--telekom-color-ui-border-standard);
  --line-height-helper-text: var(--telekom-typography-line-spacing-standard);
  --border-control-checked: calc(
      0.25 * var(--telekom-spacing-composition-space-05)
    )
    solid var(--telekom-color-background-canvas);
  --border-control-checked-disabled: calc(
      0.5 * var(--telekom-spacing-composition-space-05)
    )
    solid var(--telekom-color-ui-border-disabled);
  --background-control-checked-disabled: none;
  --border-control-active: var(--telekom-spacing-composition-space-04) solid
    var(--telekom-color-primary-pressed);
  --border-control-disabled: 0 0 0 var(--telekom-spacing-composition-space-01)
    var(--telekom-color-ui-border-disabled);
  --border-control-error: var(--telekom-spacing-composition-space-02) solid
    var(--telekom-color-functional-danger-standard);
  --box-shadow-control-focus: 0 0 0 var(--telekom-spacing-composition-space-03)
    var(--color-focus);
}
```

```html
<scale-radio-button-group label="Group Label">
  <scale-radio-button
    label="Radio Label"
    name="standard"
    input-id="choice-0"
    value="0"
  ></scale-radio-button>
  <scale-radio-button
    label="Radio Label"
    name="standard"
    input-id="choice-1"
    value="1"
  ></scale-radio-button>
  <scale-radio-button
    label="Radio Label"
    name="standard"
    input-id="choice-2"
    value="2"
  ></scale-radio-button>
</scale-radio-button-group>
```

## Helper Text

<Canvas withSource="none">
  <Story
    name="Helper Text"
    args={{
      label: 'Group Label',
      groupName: 'helper-text',
      helperText: 'Make sure to fill this',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-radio-button-group label="Group Label" helper-text="Make sure to fill this">
  <scale-radio-button
    label="Radio Label"
    name="helper-text"
    input-id="choice-0"
    value="0"
  ></scale-radio-button>
  <scale-radio-button
    label="Radio Label"
    name="helper-text"
    input-id="choice-1"
    value="1"
  ></scale-radio-button>
  <scale-radio-button
    label="Radio Label"
    name="helper-text"
    input-id="choice-2"
    value="2"
  ></scale-radio-button>
</scale-radio-button-group>
```

## Error

<Canvas withSource="none">
  <Story
    name="Error"
    args={{
      label: 'Group Label',
      groupName: 'error',
      invalid: true,
      helperText: 'Something is wrong',
      itemProps: {
        0: {
          invalid: true,
          checked: true,
          helperText: 'Error message',
        },
      }
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-radio-button-group label="Group Label" invalid helper-text="Something is wrong">
  <scale-radio-button
    label="Radio Label"
    name="error"
    input-id="choice-0"
    value="0"
    invalid
    checked
    helper-text="Error message"
  ></scale-radio-button>
  <scale-radio-button
    label="Radio Label"
    name="error"
    input-id="choice-1"
    value="1"
  ></scale-radio-button>
  <scale-radio-button
    label="Radio Label"
    name="error"
    input-id="choice-2"
    value="2"
  ></scale-radio-button>
</scale-radio-button-group>
```

## Disabled

<Canvas withSource="none">
  <Story
    name="Disabled"
    args={{
      label: 'Group Label',
      groupName: 'disabled',
      itemProps: {
        0: {
          disabled: true,
        },
      }
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-radio-button-group label="Group Label">
  <scale-radio-button
    label="Radio Label"
    name="disabled"
    input-id="choice-0"
    value="0"
    disabled
  ></scale-radio-button>
  <scale-radio-button
    label="Radio Label"
    name="disabled"
    input-id="choice-1"
    value="1"
  ></scale-radio-button>
  <scale-radio-button
    label="Radio Label"
    name="disabled"
    input-id="choice-2"
    value="2"
  ></scale-radio-button>
</scale-radio-button-group>
```
