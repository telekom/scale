import{r as a,h as r,H as t,g as c}from"./p-32539df4.js";import{c as e}from"./p-40a0fea8.js";import{s}from"./p-bf956c1d.js";const l=class{constructor(r){a(this,r),this.readData=a=>{try{return Array.isArray(JSON.parse(a))?JSON.parse(a):[]}catch(r){return Array.isArray(a)?a:[]}}}getOpacity(a,r){return JSON.stringify(0===r?1:+a.percentage/100)}getCardStyle(){return"\n      .card:after {\n          content: '';\n          display: block;\n          background: linear-gradient(0deg, white, rgba(255,255,255, 0));\n          height: 2rem;\n          margin-top: -2rem;\n          position: relative;\n        }\n\n      .card__body: {\n        padding-bottom: 0 !important;\n      }\n  "}connectedCallback(){s({source:this.hostElement,type:"warn"})}render(){return r(t,null,r("div",{class:this.getCssClassMap()},r("scale-card",{styles:this.getCardStyle()},r("div",{class:"header"},this.heading),r("div",{class:"bar"},this.readData(this.data).sort(((a,r)=>r.percentage-a.percentage)).map(((a,t)=>{if(+a.percentage>0)return r("div",{class:"bar__item",style:{opacity:this.getOpacity(a,t),flex:JSON.stringify(+a.percentage)}})}))),r("div",{class:"legend"},this.readData(this.data).sort(((a,r)=>r.percentage-a.percentage)).map(((a,t)=>r("div",{class:"legend__row"},r("div",{class:"legend__row__item"},r("div",{class:"legend__item",style:{opacity:this.getOpacity(a,t)}}),r("div",{class:"legend__label spacer"},a.type)),r("div",{class:"legend__row__item"},r("div",{class:"spacer"},a.value),r("div",{class:"spacer"},a.percentage,"%")))))))))}getCssClassMap(){return e("chart-stack-card")}get hostElement(){return c(this)}};l.style=":host{--scl-chart-stack-card-color:var(--scl-color-blue-60)}.chart-stack-card{color:var(--color-text);--scl-chart-stack-card-color:var(--scl-color-blue-60)}.chart-stack-card .header{height:var(--scl-spacing-24);font-size:var(--scl-font-size-24);font-weight:var(--scl-font-weight-extrabold);line-height:var(--scl-font-line-height-114);margin-bottom:var(--scl-spacing-24)}.chart-stack-card .bar{display:flex;justify-content:space-between;margin-bottom:var(--scl-spacing-16)}.chart-stack-card .bar__item{background-color:var(--scl-chart-stack-card-color);height:var(--scl-spacing-32);flex:1}.chart-stack-card .bar__item:first-of-type{border-top-left-radius:var(--scl-radius-4);border-bottom-left-radius:var(--scl-radius-4)}.chart-stack-card .bar__item:last-of-type{border-top-right-radius:var(--scl-radius-4);border-bottom-right-radius:var(--scl-radius-4)}.chart-stack-card .legend{display:flex;flex-direction:column;height:calc(var(--scl-spacing-16) * 10)}.chart-stack-card .spacer{padding:0 var(--scl-spacing-8)}.chart-stack-card .legend .legend__row__item{display:flex;line-height:var(--scl-font-line-height-133)}.chart-stack-card .legend .legend__row{display:flex;justify-content:space-between}.chart-stack-card .legend .legend__row:last-child{padding-bottom:var(--scl-spacing-32)}.chart-stack-card .legend .legend__item{height:10px;width:10px;background-color:var(--scl-chart-stack-card-color);border-radius:100%;align-self:center;margin-right:var(--scl-spacing-4)}.chart-stack-card .legend .legend__label{font-weight:var(--type-weight-bold);font-size:var(--scl-spacing-16);line-height:200%}";export{l as scale_chart_stack_card}