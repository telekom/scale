import{r,c as s,h as i,H as t}from"./p-32539df4.js";import{c as e}from"./p-40a0fea8.js";let a=0;const o=class{constructor(i){r(this,i),this.scaleChange=s(this,"scaleChange",7),this.min=0,this.max=100,this.step=1,this.showValue=!0,this.customColor="",this.disabled=!1,this.trackSmall=!1,this.thumbLarge=!1,this.onButtonDown=r=>{this.disabled||(this.onDragStart(r),this.addGlobalListeners())},this.onDragStart=r=>{this.dragging=!0,this.startX=this.handleTouchEvent(r).clientX,this.startPosition=parseInt(this.currentPosition(),10)},this.onDragging=r=>{const{dragging:s,startX:i,startPosition:t}=this;if(s){let s;this.currentX=this.handleTouchEvent(r).clientX,s=(this.currentX-i)/this.sliderTrack.offsetWidth*100,this.newPosition=t+s,this.setPosition(this.newPosition)}},this.onDragEnd=()=>{const{dragging:r,newPosition:s}=this;r&&(this.dragging=!1),this.setPosition(s||this.startPosition),this.removeGlobalListeners()},this.onKeyDown=r=>{["ArrowRight","ArrowLeft"].includes(r.key)&&this.setPosition(this.value+("ArrowRight"===r.key?this.step:-this.step)),["ArrowUp","ArrowDown"].includes(r.key)&&this.setPosition(this.value+("ArrowUp"===r.key?10*this.step:10*-this.step))},this.setPosition=r=>{r<0?r=0:r>100&&(r=100);const s=100/((this.max-this.min)/this.step),i=Math.round(r/s);this.value=i*s*(this.max-this.min)*.01+this.min,this.scaleChange.emit(Math.abs(this.value))},this.onDragging=this.onDragging.bind(this),this.onDragEnd=this.onDragEnd.bind(this)}componentWillLoad(){null==this.sliderId&&(this.sliderId="slider-"+a++)}disconnectedCallback(){this.removeGlobalListeners()}addGlobalListeners(){window.addEventListener("mousemove",this.onDragging.bind(this)),window.addEventListener("mouseup",this.onDragEnd.bind(this)),window.addEventListener("touchmove",this.onDragging.bind(this)),window.addEventListener("touchend",this.onDragEnd.bind(this))}removeGlobalListeners(){window.removeEventListener("mousemove",this.onDragging),window.removeEventListener("mouseup",this.onDragEnd),window.removeEventListener("touchmove",this.onDragging),window.removeEventListener("touchend",this.onDragEnd)}handleTouchEvent(r){return 0===r.type.indexOf("touch")?r.touches[0]:r}currentPosition(){return(this.value-this.min)/(this.max-this.min)*100+"%"}render(){return i(t,null,this.styles&&i("style",null,this.styles),i("div",{part:this.getBasePartMap(),class:this.getCssClassMap()},!!this.label&&i("label",{part:"label",class:"slider__label",id:this.sliderId+"-label",htmlFor:this.sliderId},this.label),i("div",{part:"track-wrapper",class:"slider__track-wrapper"},i("div",{part:"track",class:"slider__track",ref:r=>this.sliderTrack=r},i("div",{part:"bar",class:"slider__bar",style:{width:this.value+"%",backgroundColor:this.customColor}}),i("div",{part:"thumb-wrapper",class:"slider__thumb-wrapper",style:{left:this.value+"%"},onMouseDown:this.onButtonDown,onTouchStart:this.onButtonDown},i("div",{part:"thumb",class:"slider__thumb",tabindex:"0",role:"slider",id:this.sliderId,"aria-valuemin":this.min,"aria-valuenow":this.value,"aria-valuemax":this.max,"aria-valuetext":this.value+"%","aria-labelledby":this.sliderId+"-label","aria-orientation":"horizontal","aria-disabled":this.disabled,onKeyDown:this.onKeyDown}))),this.showValue&&i("div",{part:"display-value",class:"slider__display-value"},this.value,"%"))))}getBasePartMap(){return this.getCssOrBasePartMap("basePart")}getCssClassMap(){return this.getCssOrBasePartMap("css")}getCssOrBasePartMap(r){const s="basePart"===r?"":"slider--";return e("slider",this.disabled&&s+"disabled",this.trackSmall&&s+"track-small",this.thumbLarge&&s+"thumb-large")}};o.style=":host{--border:1px solid var(--scl-color-grey-60);--background-bar:var(--scl-color-primary);--border-color-thumb:var(--scl-color-grey-60);--box-shadow-thumb:var(--scl-shadow-level-0);--border-color-thumb-hover:var(--scl-color-primary-hover);--border-color-thumb-active:var(--scl-color-primary-active);--box-shadow-thumb-focus:0 0 0 var(--scl-spacing-2) var(--scl-color-focus);--color-display-value:var(--scl-color-grey-60);--font-weight-display-value:var(--scl-font-weight-bold);--font-size-display-value:var(--scl-font-size-12);--background-track:var(--scl-color-grey-50);--background-bar-disabled:var(--scl-color-grey-50);--color-label-disabled:var(--scl-color-grey-50)}.slider{width:100%;display:block;align-items:center}.slider .slider__track-wrapper{display:flex;align-items:center}.slider .slider__track{width:303px;border:var(--border);height:6px;margin:16px 0;display:flex;position:relative;box-sizing:border-box;align-items:center;border-radius:100px}.slider .slider__bar{height:6px;z-index:-1;position:absolute;border-radius:100px;background-color:var(--background-bar)}.slider .slider__thumb-wrapper{width:32px;height:32px;display:flex;z-index:100;position:absolute;text-align:center;align-items:center;margin-left:-16px;justify-content:center;background-color:transparent}.slider .slider__thumb{width:16px;border:1px solid;height:16px;outline:none;box-sizing:border-box;border-color:var(--border-color-thumb);border-radius:50%;background-color:#fff;box-shadow:var(--scl-shadow-level-0)}.slider .slider__display-value{color:var(--color-display-value);margin-left:24px;font-weight:var(--font-weight-display-value);font-size:var(--font-size-display-value)}.slider .slider__thumb:hover{border-color:var(--border-color-thumb-hover)}.slider .slider__thumb:active{border-color:var(--border-color-thumb-active)}.slider .slider__thumb:focus{box-shadow:var(--box-shadow-thumb-focus)}.slider .slider__thumb-wrapper:hover{cursor:grab}.slider .slider__thumb-wrapper:active{cursor:grabbing}.slider--track-small .slider__track{border:none;height:1px;border-top:1px solid transparent;background-color:var(--background-track)}.slider--track-small .slider__bar{border:1px solid transparent;height:3px;z-index:1;box-sizing:border-box}.slider--thumb-large .slider__thumb{width:24px;height:24px}.slider--disabled .slider__track-wrapper{cursor:not-allowed}.slider--disabled .slider__bar{background-color:var(--background-bar-disabled)}.slider--disabled .slider__thumb{display:none}.slider--disabled .slider__label{color:var(--color-label-disabled)}.slider--disabled .slider__thumb-wrapper:hover{cursor:not-allowed}";export{o as scale_slider}